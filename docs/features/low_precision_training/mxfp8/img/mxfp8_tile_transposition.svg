<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <style>
    .title { font: bold 20px sans-serif; fill: #333; }
    .subtitle { font: bold 16px sans-serif; fill: #444; }
    .label { font: 14px sans-serif; fill: #555; }
    .small { font: 12px sans-serif; fill: #666; }
    .box { fill: #fcfcfc; stroke: #ccc; stroke-width: 1; }
    .block { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; }
    .block-text { font: bold 14px sans-serif; fill: #1565c0; text-anchor: middle; dominant-baseline: middle; }
    .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    .memory-strip { fill: #f5f5f5; stroke: #999; stroke-width: 1; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <text x="400" y="30" text-anchor="middle" class="title">MXFP8 Swizzling Part 1: Tile Transposition</text>

  <!-- LEFT: Logical View -->
  <text x="200" y="70" text-anchor="middle" class="subtitle">Logical 2D Tensor View</text>
  <text x="200" y="90" text-anchor="middle" class="small">(Scaling Factors in Matrix Form)</text>

  <g transform="translate(100, 120)">
    <!-- Background Grid -->
    <rect x="0" y="0" width="200" height="200" class="box" />
    
    <!-- Block 0,0 -->
    <rect x="0" y="0" width="90" height="90" class="block" transform="translate(5,5)" />
    <text x="50" y="50" class="block-text">Tile 0</text>
    <text x="50" y="70" class="small" text-anchor="middle">(128x4)</text>

    <!-- Block 0,1 -->
    <rect x="0" y="0" width="90" height="90" class="block" transform="translate(105,5)" />
    <text x="150" y="50" class="block-text">Tile 1</text>

    <!-- Block 1,0 -->
    <rect x="0" y="0" width="90" height="90" class="block" transform="translate(5,105)" />
    <text x="50" y="150" class="block-text">Tile 2</text>

    <!-- Block 1,1 -->
    <rect x="0" y="0" width="90" height="90" class="block" transform="translate(105,105)" />
    <text x="150" y="150" class="block-text">Tile 3</text>
  </g>

  <!-- Arrow -->
  <path d="M 320 220 L 480 220" class="arrow" />
  <text x="400" y="210" text-anchor="middle" class="label">Reordered to Block-Linear</text>

  <!-- RIGHT: Physical Memory View -->
  <text x="600" y="70" text-anchor="middle" class="subtitle">Physical Memory Layout</text>
  <text x="600" y="90" text-anchor="middle" class="small">(Linear Address Space)</text>

  <g transform="translate(450, 150)">
    <!-- Memory Strip -->
    <rect x="0" y="0" width="300" height="140" class="memory-strip" rx="10" />
    
    <!-- Linear Blocks -->
    <rect x="20" y="45" width="50" height="50" class="block" />
    <text x="45" y="70" class="block-text" font-size="12">Tile 0</text>

    <path d="M 70 70 L 90 70" stroke="#999" stroke-dasharray="4" />

    <rect x="90" y="45" width="50" height="50" class="block" />
    <text x="115" y="70" class="block-text" font-size="12">Tile 1</text>

    <path d="M 140 70 L 160 70" stroke="#999" stroke-dasharray="4" />

    <rect x="160" y="45" width="50" height="50" class="block" />
    <text x="185" y="70" class="block-text" font-size="12">Tile 2</text>

    <path d="M 210 70 L 230 70" stroke="#999" stroke-dasharray="4" />

    <rect x="230" y="45" width="50" height="50" class="block" />
    <text x="255" y="70" class="block-text" font-size="12">Tile 3</text>
    
    <text x="150" y="120" text-anchor="middle" class="small">Contiguous memory regions per tile</text>
  </g>

  <text x="400" y="360" text-anchor="middle" class="small">Scaling factors are grouped into 128x4 tiles. Each tile is stored as a contiguous chunk in memory.</text>
</svg>

