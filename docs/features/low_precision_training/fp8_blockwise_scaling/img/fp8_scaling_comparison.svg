<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 500">
  <defs>
    <style>
      .title { font: bold 18px sans-serif; fill: #333; text-anchor: middle; }
      .label { font: 14px sans-serif; fill: #333; text-anchor: middle; }
      .small-text { font: 12px sans-serif; fill: #555; }
      
      /* Tensor colors */
      .fp8-tensor { fill: #87CEEB; stroke: #444; stroke-width: 2; }
      .fp8-block { fill: #87CEEB; stroke: #555; stroke-width: 1.5; }
      .fp8-block-alt { fill: #5F9FCC; stroke: #555; stroke-width: 1.5; }
      
      /* Scaling factor colors */
      .scale-factor { fill: #FFA500; stroke: #666; stroke-width: 2; }
      .scale-factor-small { fill: #FFA500; stroke: #555; stroke-width: 1.5; }
      
      .arrow { stroke: #616161; stroke-width: 2; fill: none; }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#616161"/>
    </marker>
  </defs>
  
  <!-- Main Title -->
  <text x="500" y="35" class="title" style="font-size: 22px;">FP8 Scaling Comparison</text>
  
  <!-- LEFT SIDE: Standard FP8 Scaling (Per-Tensor) -->
  <g id="standard-scaling">
    <text x="250" y="80" class="title">Standard FP8 Scaling</text>
    <text x="250" y="105" class="label" style="font-size: 13px;">(Single scaling factor per tensor)</text>
    
    <!-- FP8 Tensor - single large rectangle -->
    <rect x="125" y="140" width="250" height="200" class="fp8-tensor" rx="4"/>
    <text x="250" y="245" class="label" style="font-size: 16px;">FP8 Tensor</text>
    
    <!-- Arrow down -->
    <path d="M 250 340 L 250 370" class="arrow" marker-end="url(#arrowhead)"/>
    
    <!-- Single scaling factor - small square -->
    <rect x="220" y="380" width="60" height="50" class="scale-factor" rx="3"/>
    <text x="250" y="410" class="label" style="font-weight: bold;">s</text>
    
    <text x="250" y="455" class="small-text">1 scaling factor</text>
  </g>
  
  <!-- RIGHT SIDE: FP8 Blockwise Scaling -->
  <g id="blockwise-scaling">
    <text x="750" y="80" class="title">FP8 Blockwise Scaling</text>
    <text x="750" y="105" class="label" style="font-size: 13px;">(Multiple scaling factors per tensor)</text>
    
    <!-- FP8 Tensor split into blocks (4x3 grid) -->
    <g id="tensor-blocks">
      <!-- Row 0 -->
      <rect x="625" y="140" width="62.5" height="50" class="fp8-block"/>
      <rect x="687.5" y="140" width="62.5" height="50" class="fp8-block-alt"/>
      <rect x="750" y="140" width="62.5" height="50" class="fp8-block"/>
      <rect x="812.5" y="140" width="62.5" height="50" class="fp8-block-alt"/>
      
      <!-- Row 1 -->
      <rect x="625" y="190" width="62.5" height="50" class="fp8-block-alt"/>
      <rect x="687.5" y="190" width="62.5" height="50" class="fp8-block"/>
      <rect x="750" y="190" width="62.5" height="50" class="fp8-block-alt"/>
      <rect x="812.5" y="190" width="62.5" height="50" class="fp8-block"/>
      
      <!-- Row 2 -->
      <rect x="625" y="240" width="62.5" height="50" class="fp8-block"/>
      <rect x="687.5" y="240" width="62.5" height="50" class="fp8-block-alt"/>
      <rect x="750" y="240" width="62.5" height="50" class="fp8-block"/>
      <rect x="812.5" y="240" width="62.5" height="50" class="fp8-block-alt"/>
      
      <!-- Row 3 -->
      <rect x="625" y="290" width="62.5" height="50" class="fp8-block-alt"/>
      <rect x="687.5" y="290" width="62.5" height="50" class="fp8-block"/>
      <rect x="750" y="290" width="62.5" height="50" class="fp8-block-alt"/>
      <rect x="812.5" y="290" width="62.5" height="50" class="fp8-block"/>
      
      <text x="750" y="310" class="label" style="font-size: 16px; fill: #000;">FP8 Tensor (Blocks)</text>
    </g>
    
    <!-- Arrow down -->
    <path d="M 750 340 L 750 370" class="arrow" marker-end="url(#arrowhead)"/>
    
    <!-- Multiple scaling factors - grid of small squares (4x3) -->
    <g id="scale-factors">
      <!-- Row 0 -->
      <rect x="642" y="380" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="684" y="380" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="726" y="380" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="768" y="380" width="35" height="28" class="scale-factor-small" rx="2"/>
      
      <!-- Row 1 -->
      <rect x="642" y="412" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="684" y="412" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="726" y="412" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="768" y="412" width="35" height="28" class="scale-factor-small" rx="2"/>
      
      <!-- Row 2 -->
      <rect x="642" y="444" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="684" y="444" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="726" y="444" width="35" height="28" class="scale-factor-small" rx="2"/>
      <rect x="768" y="444" width="35" height="28" class="scale-factor-small" rx="2"/>
      
      <!-- Labels on first row -->
      <text x="659.5" y="397" class="small-text" style="font-size: 10px; text-anchor: middle; font-weight: bold;">s₀</text>
      <text x="701.5" y="397" class="small-text" style="font-size: 10px; text-anchor: middle; font-weight: bold;">s₁</text>
      <text x="743.5" y="397" class="small-text" style="font-size: 10px; text-anchor: middle; font-weight: bold;">s₂</text>
      <text x="785.5" y="397" class="small-text" style="font-size: 10px; text-anchor: middle; font-weight: bold;">s₃</text>
    </g>
    
    <text x="750" y="490" class="small-text">Multiple scaling factors (one per block)</text>
  </g>
  
  <!-- Comparison note at bottom -->
  <text x="500" y="495" class="small-text" text-anchor="middle" style="font-style: italic; fill: #666;">
    Blockwise scaling provides finer granularity and better accuracy by using separate scaling factors for each block
  </text>
</svg>

