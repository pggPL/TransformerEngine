<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 450">
  <defs>
    <style>
      .title { font: bold 18px sans-serif; fill: #333; text-anchor: middle; }
      .label { font: 14px sans-serif; fill: #333; text-anchor: middle; }
      .small-text { font: 12px sans-serif; fill: #555; }
      .dots-text { font: bold 24px sans-serif; fill: #333; text-anchor: middle; }
      
      /* Tensor colors */
      .fp8-tensor { fill: #87CEEB; stroke: #444; stroke-width: 2; }
      .fp8-block { fill: #87CEEB; stroke: #555; stroke-width: 1.5; }
      .fp8-block-alt { fill: #5F9FCC; stroke: #555; stroke-width: 1.5; }
      
      /* Scaling factor colors */
      .scale-factor { fill: #FFA500; stroke: #444; stroke-width: 2; }
      
      .grid-line { stroke: #444; stroke-width: 2; }
    </style>
  </defs>
  
  <!-- Main Title -->
  <text x="450" y="35" class="title" style="font-size: 20px;">Delayed/Current FP8 Scaling vs FP8 Blockwise Scaling</text>
  
  <!-- LEFT SIDE: Standard FP8 Scaling -->
  <g id="standard-scaling">
    <text x="225" y="85" class="title">Delayed/Current FP8 Scaling</text>
    <text x="225" y="108" class="label" style="font-size: 12px;">(Single scaling factor per tensor)</text>
    
    <!-- FP8 Tensor - solid blue with white cross -->
    <g id="left-tensor">
      <!-- Solid blue background -->
      <rect x="105" y="140" width="240" height="120" class="fp8-tensor"/>
      
      <!-- White backgrounds for dots areas - cross pattern -->
      <rect x="225.0" y="140.0" width="40" height="120" fill="#FFFFFF" stroke="none"/>
      <rect x="105.0" y="190.0" width="240" height="30" fill="#FFFFFF" stroke="none"/>
      
      <!-- Three dots in VERTICAL white bar -->
      <text x="245" y="167.5" class="dots-text">…</text>
      <text x="245" y="242.5" class="dots-text">…</text>
      
      <!-- Three dots in HORIZONTAL white bar -->
      <text x="165" y="205" class="dots-text">…</text>
      <text x="305" y="205" class="dots-text">…</text>
      
      <!-- ONE diagonal dot at intersection -->
      <text x="245" y="205" class="dots-text" transform="rotate(45 245 205)">…</text>
      
      <!-- Main outline -->
      <rect x="105.0" y="140.0" width="240" height="120" fill="none" stroke="#444" stroke-width="2"/>
    </g>
    
    <!-- Single scaling factor - one 10x10 square -->
    <rect x="220" y="285" width="10" height="10" class="scale-factor" stroke="#444" stroke-width="1"/>
    
    <text x="225" y="315" class="small-text" text-anchor="middle">1 scaling factor</text>
  </g>
  
  <!-- RIGHT SIDE: FP8 Blockwise Scaling -->
  <g id="blockwise-scaling">
    <text x="675" y="85" class="title">Blockwise FP8 Scaling - 1 dimension</text>
    <text x="675" y="108" class="label" style="font-size: 12px;">(One scaling factor per 128 elements)</text>
    
    <!-- FP8 Tensor split into many small blocks (40×10) - EXACT coordinates from Python script -->
    <g id="tensor-blocks">
      <!-- White backgrounds for dots areas - cross pattern -->
      <rect x="675.0" y="140.0" width="40" height="120" fill="#FFFFFF" stroke="none"/>
      <rect x="555.0" y="190.0" width="240" height="30" fill="#FFFFFF" stroke="none"/>
      
      <!-- Blocks ONLY where they don't overlap with white cross (from Python script) -->
      <rect x="555" y="140" width="40" height="10" class="fp8-block"/>
      <rect x="595" y="140" width="40" height="10" class="fp8-block-alt"/>
      <rect x="635" y="140" width="40" height="10" class="fp8-block"/>
      <rect x="715" y="140" width="40" height="10" class="fp8-block"/>
      <rect x="755" y="140" width="40" height="10" class="fp8-block-alt"/>
      
      <rect x="555" y="150" width="40" height="10" class="fp8-block-alt"/>
      <rect x="595" y="150" width="40" height="10" class="fp8-block"/>
      <rect x="635" y="150" width="40" height="10" class="fp8-block-alt"/>
      <rect x="715" y="150" width="40" height="10" class="fp8-block-alt"/>
      <rect x="755" y="150" width="40" height="10" class="fp8-block"/>
      
      <rect x="555" y="160" width="40" height="10" class="fp8-block"/>
      <rect x="595" y="160" width="40" height="10" class="fp8-block-alt"/>
      <rect x="635" y="160" width="40" height="10" class="fp8-block"/>
      <rect x="715" y="160" width="40" height="10" class="fp8-block"/>
      <rect x="755" y="160" width="40" height="10" class="fp8-block-alt"/>
      
      <rect x="555" y="170" width="40" height="10" class="fp8-block-alt"/>
      <rect x="595" y="170" width="40" height="10" class="fp8-block"/>
      <rect x="635" y="170" width="40" height="10" class="fp8-block-alt"/>
      <rect x="715" y="170" width="40" height="10" class="fp8-block-alt"/>
      <rect x="755" y="170" width="40" height="10" class="fp8-block"/>
      
      <rect x="555" y="180" width="40" height="10" class="fp8-block"/>
      <rect x="595" y="180" width="40" height="10" class="fp8-block-alt"/>
      <rect x="635" y="180" width="40" height="10" class="fp8-block"/>
      <rect x="715" y="180" width="40" height="10" class="fp8-block"/>
      <rect x="755" y="180" width="40" height="10" class="fp8-block-alt"/>
      
      <!-- Three dots in VERTICAL white bar -->
      <text x="695" y="167.5" class="dots-text">…</text>
      <text x="695" y="242.5" class="dots-text">…</text>
      
      <!-- Three dots in HORIZONTAL white bar -->
      <text x="615" y="205" class="dots-text">…</text>
      <text x="755" y="205" class="dots-text">…</text>
      
      <!-- ONE diagonal dot at intersection -->
      <text x="695" y="205" class="dots-text" transform="rotate(45 695 205)">…</text>
      
      <!-- Bottom rows (y >= 220 after horizontal white bar) -->
      <rect x="555" y="220" width="40" height="10" class="fp8-block"/>
      <rect x="595" y="220" width="40" height="10" class="fp8-block-alt"/>
      <rect x="635" y="220" width="40" height="10" class="fp8-block"/>
      <rect x="715" y="220" width="40" height="10" class="fp8-block"/>
      <rect x="755" y="220" width="40" height="10" class="fp8-block-alt"/>
      
      <rect x="555" y="230" width="40" height="10" class="fp8-block-alt"/>
      <rect x="595" y="230" width="40" height="10" class="fp8-block"/>
      <rect x="635" y="230" width="40" height="10" class="fp8-block-alt"/>
      <rect x="715" y="230" width="40" height="10" class="fp8-block-alt"/>
      <rect x="755" y="230" width="40" height="10" class="fp8-block"/>
      
      <rect x="555" y="240" width="40" height="10" class="fp8-block"/>
      <rect x="595" y="240" width="40" height="10" class="fp8-block-alt"/>
      <rect x="635" y="240" width="40" height="10" class="fp8-block"/>
      <rect x="715" y="240" width="40" height="10" class="fp8-block"/>
      <rect x="755" y="240" width="40" height="10" class="fp8-block-alt"/>
      
      <rect x="555" y="250" width="40" height="10" class="fp8-block-alt"/>
      <rect x="595" y="250" width="40" height="10" class="fp8-block"/>
      <rect x="635" y="250" width="40" height="10" class="fp8-block-alt"/>
      <rect x="715" y="250" width="40" height="10" class="fp8-block-alt"/>
      <rect x="755" y="250" width="40" height="10" class="fp8-block"/>
      
      <!-- Main outline -->
      <rect x="555.0" y="140.0" width="240" height="120" fill="none" stroke="#444" stroke-width="2"/>
    </g>
    
    <!-- Scaling factors tensor - 3+2 columns of 10px squares -->
    <g id="scale-factors">
      <!-- Orange background -->
      <rect x="640" y="285" width="70" height="120" fill="#FFA500"/>
      
      <!-- White backgrounds for dots areas - cross pattern -->
      <rect x="670" y="285" width="20" height="120" fill="#FFFFFF" stroke="none"/>
      <rect x="640" y="335" width="70" height="30" fill="#FFFFFF" stroke="none"/>
      
      <!-- Grid lines showing 10x10 squares (3 left + 2 right columns) -->
      <!-- Vertical lines every 10px (skipping white space) -->
      <!-- Left 3 columns (640-670) -->
      <line x1="650" y1="285" x2="650" y2="335" class="grid-line" stroke-width="1"/>
      <line x1="660" y1="285" x2="660" y2="335" class="grid-line" stroke-width="1"/>
      <line x1="670" y1="285" x2="670" y2="335" class="grid-line" stroke-width="1"/>
      
      <!-- Right 2 columns (690-710) -->
      <line x1="690" y1="285" x2="690" y2="335" class="grid-line" stroke-width="1"/>
      <line x1="700" y1="285" x2="700" y2="335" class="grid-line" stroke-width="1"/>
      <line x1="710" y1="285" x2="710" y2="335" class="grid-line" stroke-width="1"/>
      
      <!-- Bottom sections -->
      <line x1="650" y1="365" x2="650" y2="405" class="grid-line" stroke-width="1"/>
      <line x1="660" y1="365" x2="660" y2="405" class="grid-line" stroke-width="1"/>
      <line x1="670" y1="365" x2="670" y2="405" class="grid-line" stroke-width="1"/>
      
      <line x1="690" y1="365" x2="690" y2="405" class="grid-line" stroke-width="1"/>
      <line x1="700" y1="365" x2="700" y2="405" class="grid-line" stroke-width="1"/>
      <line x1="710" y1="365" x2="710" y2="405" class="grid-line" stroke-width="1"/>
      
      <!-- Horizontal lines every 10px -->
      <line x1="640" y1="295" x2="670" y2="295" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="295" x2="710" y2="295" class="grid-line" stroke-width="1"/>
      <line x1="640" y1="305" x2="670" y2="305" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="305" x2="710" y2="305" class="grid-line" stroke-width="1"/>
      <line x1="640" y1="315" x2="670" y2="315" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="315" x2="710" y2="315" class="grid-line" stroke-width="1"/>
      <line x1="640" y1="325" x2="670" y2="325" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="325" x2="710" y2="325" class="grid-line" stroke-width="1"/>
      
      <!-- Top bottom boundaries -->
      <line x1="640" y1="335" x2="670" y2="335" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="335" x2="710" y2="335" class="grid-line" stroke-width="1"/>
      
      <line x1="640" y1="365" x2="670" y2="365" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="365" x2="710" y2="365" class="grid-line" stroke-width="1"/>
      <line x1="640" y1="375" x2="670" y2="375" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="375" x2="710" y2="375" class="grid-line" stroke-width="1"/>
      <line x1="640" y1="385" x2="670" y2="385" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="385" x2="710" y2="385" class="grid-line" stroke-width="1"/>
      <line x1="640" y1="395" x2="670" y2="395" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="395" x2="710" y2="395" class="grid-line" stroke-width="1"/>
      
      <!-- Bottom boundaries -->
      <line x1="640" y1="405" x2="670" y2="405" class="grid-line" stroke-width="1"/>
      <line x1="690" y1="405" x2="710" y2="405" class="grid-line" stroke-width="1"/>
      
      <!-- Main outline -->
      <rect x="640" y="285" width="70" height="120" fill="none" stroke="#444" stroke-width="2"/>
      
      <!-- Three dots -->
      <text x="680" y="312.5" class="dots-text" style="font-size: 14px;">…</text>
      <text x="680" y="387.5" class="dots-text" style="font-size: 14px;">…</text>
      <text x="655" y="350" class="dots-text" style="font-size: 14px;">…</text>
      <text x="700" y="350" class="dots-text" style="font-size: 14px;">…</text>
      <text x="680" y="350" class="dots-text" style="font-size: 14px;" transform="rotate(45 680 350)">…</text>
    </g>
    
    <text x="675" y="430" class="small-text" text-anchor="middle">Scaling factors (one per block)</text>
  </g>
</svg>
